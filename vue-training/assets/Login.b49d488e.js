import{d as V,r as d,u as x,b as _,E,o as v,c as y,a as r,e as s,w as t,f as e,n as k,g as A,l as R,h as U,i as q,v as D,j as I,k as m,m as M,p as N,q as F,s as j}from"./index.e9159245.js";import{E as z,a as L}from"./el-form-item.2a7fbae1.js";import{E as S}from"./el-input.d866074f.js";const T={class:"content"},G=r("img",{src:"https://pic.imgdb.cn/item/63cfe987588a5d166ce1b2ba.jpg",alt:""},null,-1),H={class:"option-container"},Q=V({__name:"Login",setup(J){const f=M(),b=d(""),g=d();x();const n=d(!0),o=_({account:"",password:"",captchaAnswer:""}),B=_({account:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"}],captchaAnswer:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",trigger:"change"}]});function h(){var p;(p=g.value)==null||p.validate(async(a,c)=>{if(a){let l=(await N(o.account,o.password)).data;l.account?(j(l,n.value),f.push("/")):F({type:"error",message:"\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF"})}else F({type:"error",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u4FE1\u606F\uFF01\uFF01"})})}function w(){f.push({name:"Register"})}return(p,a)=>{const c=S,i=z,l=E,C=L;return v(),y("div",{class:"login",style:k({background:e(b)})},[r("div",T,[s(C,{ref_key:"loginFormRef",ref:g,model:e(o),rules:e(B),size:"large"},{default:t(()=>[s(i,{label:"",prop:"account"},{default:t(()=>[s(c,{modelValue:e(o).account,"onUpdate:modelValue":a[0]||(a[0]=u=>e(o).account=u),placeholder:"\u8D26\u53F7","prefix-icon":e(A),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,{label:"",prop:"password"},{default:t(()=>[s(c,{type:"password",modelValue:e(o).password,"onUpdate:modelValue":a[1]||(a[1]=u=>e(o).password=u),placeholder:"\u5BC6\u7801","prefix-icon":e(R),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,{label:"",prop:"captchaAnswer"},{default:t(()=>[s(c,{modelValue:e(o).captchaAnswer,"onUpdate:modelValue":a[2]||(a[2]=u=>e(o).captchaAnswer=u),placeholder:"\u9A8C\u8BC1\u7801","prefix-icon":e(U),class:"captcha",clearable:""},null,8,["modelValue","prefix-icon"]),G]),_:1}),r("div",H,[r("label",null,[q(r("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=u=>I(n)?n.value=u:null)},null,512),[[D,e(n)]]),m("\u8BB0\u4F4F\u5BC6\u7801")])]),s(l,{type:"success",onClick:h},{default:t(()=>[m("\u767B\u9646")]),_:1}),s(l,{type:"primary",onClick:w},{default:t(()=>[m("\u6CE8\u518C")]),_:1})]),_:1},8,["model","rules"])])],4)}}});export{Q as default};
